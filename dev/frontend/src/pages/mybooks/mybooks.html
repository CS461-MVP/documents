<template>
    <require from="resources/elements/pdf-document"></require>

    <!--
  This is just a regular Aurelia viewmodel. We import the pdf-document element that
  we created, and we bind viewmodel properties to it.
  -->
    <section class="leftSection">
        <div id="h1spacer">
            <h1>My Books</h1>
        </div>
        <div class="col-sm-8">
            <ul class="nav">
                <li repeat.for="book of books" class="${book.isActive ? 'active' : ''}">
                    <div class="book-title-block">
                        <p class="bookName">${book.name}
                          <a class="previewEditLinks" target="_blank" title="Download this Book" href="http://remix.ist/books/${book.author}/${book.uuid}/pdf">
                            &#8599;
                          </a>
                        </p>
                        <p>Chapters: ${book.chapters.length}
                          <a class="previewEditLinks" route-href="route: PDFViewer; params.bind: {author: book.author, uuid: book.uuid}">
                            Preview
                          </a>
                          <a class="previewEditLinks" route-href="route: editBook; params.bind: {author: book.author, uuid: book.uuid}">
                            Edit
                          </a>

                        </p>
                    </div>
                </li>
            </ul>
        </div>
        <hr>
    </section>
    <section class="rightSection">
        <div class="col-sm-8">
            <ul id="rightSectionNav" class="nav navbar-nav">
                <li repeat.for="row of router.navigation" class="${row.isActive ? 'active' : ''}">
                    <a href.bind="row.href">${row.title}</a>
                </li>
            </ul>
        </div>
        <router-view></router-view>
    </section>
</template>
