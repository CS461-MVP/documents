<template>
    <require from="resources/elements/pdf-document"></require>

  <!--
This is just a regular Aurelia viewmodel. We import the pdf-document element that
we created, and we bind viewmodel properties to it.
-->
    <section class="leftSection">
      <md-navbar>
        <span class="spacer"><span class="brand-logo">${title}</span></span>
        <ul class="hide-on-med-and-down right">
          <li><a data-activates="mych_dropdown" md-dropdown="activates: mych_dropdown" class="dropdown-button"><i class="material-icons right">arrow_drop_down</i></a></li>
        </ul>
      </md-navbar>
      <ul id="mych_dropdown" class="wide-enough dropdown-content" style="">
        <li md-waves><a class="on-white fancy-link" click.delegate="unassociated()">Unassociated Chapters</a></li>
      </ul>
            <div class="col-sm-8">
                <ul class="nav">
                    <li repeat.for="chapter of chapters " class="chapter ${chapter.isActive ? 'active' : ''}">
                      <md-card md-title="${chapter.name}">
                        <div>
                          <p>Scraps: ${chapter.scraps.length}</p>
                          <p>
                            <a class="on-white previewEditLinks" route-href="route: PDFViewer; params.bind: {type: 'chapters', author: chapter.author, uuid: chapter.uuid}">
                              Preview
                            </a>
                            <a class="on-white previewEditLinks" route-href="route: editchapter; params.bind: {author: chapter.author, uuid: chapter.uuid}">
                              Edit
                            </a>
                            <a class="on-white previewEditLinks" target="_blank" title="Download this Chapter" href="http://remix.ist/chapters/${chapter.author}/${chapter.uuid}/pdf">
                              &#8599;
                            </a>
                          </p>
                        </div>
                      </md-card>
                    </li>
                </ul>
            </div>
    </section>
    <section class="rightSection">
      <div class="col-sm-8">
        <md-navbar>
          <ul class="hide-on-med-and-down right">
            <li md-waves repeat.for="row of router.navigation" class="${row.isActive ? 'active' : ''}">
                <a class="nav-link" href.bind="row.href">${row.title}</a>
            </li>
          </ul>
        </md-navbar>
      </div>
    <router-view></router-view>
    </section>
</template>
